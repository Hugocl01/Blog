---
const { title, url, date, readingTime, description, author, image, tags } =
    Astro.props;

// Creo un objeto Date con la fecha de publicacion pubDate que llega a traves de date para formatear la fecha en español
const formattedDate = new Date(date).toLocaleDateString("es-ES", {
    year: "numeric",
    month: "long",
    day: "numeric",
});
---

<article class="card">
    <header class="card-header">
        <h3>{title}</h3>
        <p>Fecha: {formattedDate}</p>
        <p>Tiempo de lectura: {readingTime}</p>
        <p>Autor: {author}</p>
        <figure class="card-image">
            <img src={image.url} alt={image.alt} />
        </figure>
    </header>
    <div class="tags">
        {
            tags.map((tag) => (
                <a
                    href={`/tags/${tag}`}
                    class="tag"
                    title="Ver publicaciones con la etiqueta '{tag}'"
                >
                    {tag}
                </a>
            ))
        }
    </div>
    <p class="card-description">{description}</p>
    <footer class="card-footer">
        <a href={url} title="Leer el artículo completo">Leer más →</a>
    </footer>
</article>

<style>
    @import url(../styles/global.css);

    .card {
        background-color: var(--background);
        border: 1px solid var(--border-a);
        border-radius: 10px;
        box-shadow: 0 4px 15px var(--box-shadow);
        overflow: hidden;
        transition:
            transform 0.3s ease,
            box-shadow 0.3s ease;
        padding: 2rem;
        color: var(--text-color);
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px var(--box-shadow);
    }

    img {
        width: 100%;
    }
</style>
